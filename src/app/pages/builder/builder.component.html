<div class="p-6 max-w-4xl mx-auto space-y-6">

    <h2 class="text-2xl font-bold mb-4">Resume Builder</h2>

    <!-- Show wizard if resume data not ready -->
    <app-resume-wizard *ngIf="!resumeData" (completed)="onWizardComplete($event)"></app-resume-wizard>

    <!-- After wizard completes, show template selection and preview -->
    <div *ngIf="resumeData">
        <h3 class="text-xl font-semibold mb-2">Choose a Template</h3>

        <div class="flex space-x-4 mb-4">
            <button *ngFor="let tpl of templates" class="px-4 py-2 border rounded"
                [class.border-blue-600]="selectedTemplate === tpl.id" (click)="selectTemplate(tpl.id)">
                {{ tpl.name }}
            </button>
        </div>

        <div class="border rounded shadow-sm" style="padding: 3rem;">
            <div #resume>
                <app-template-one [formData]="resumeData" *ngIf="selectedTemplate === 'template-one'"
                    [resumeLayout]="resumeLayouts[0]"></app-template-one>
                <app-template-two [formData]="demoData" *ngIf="selectedTemplate === 'template-two'"
                    [resumeLayout]="resumeLayouts[1]"></app-template-two>
            </div>
        </div>

        <div class="space-x-2 mt-2">
            <button class="bg-blue-500 text-white px-4 py-2 rounded" (click)="editDetails()">Edit Details</button>
            <button class="bg-green-500 text-white px-4 py-2 rounded" (click)="onExport()">Export PDF</button>
        </div>
    </div>
</div>